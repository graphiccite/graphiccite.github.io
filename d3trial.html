<!DOCTYPE html>
<html>
<title>W3.CSS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<script src="d3.v3.min.js"  charset="utf-8"></script>

<style media="screen" type="text/css">
body, .stage {
  background: ; 
}
</style>
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif;}
body, html {
    height: 100%;
    color: #777;
    line-height: 1.8;
}

/* Create a Parallax Effect */
.bgimg-1, .bgimg-2, .bgimg-3 {
    opacity: 0.7;
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
}

/* First image (Logo. Full height) */
.bgimg-1 {
    background-image: url("http://socialisresearch.org/wp-content/uploads/2016/03/mongoose-2-overlay-1.jpg");
    min-height: 400px;
}

/* Second image (Portfolio) */
.bgimg-2 {
    background-image: url('https://scontent.fman1-1.fna.fbcdn.net/v/t1.0-9/14045630_10157325478285072_4501826334941797149_n.jpg?oh=cd2c507ef2fb389c637e73a0ed5cbaed&oe=586A72B9');
    min-height: 100%;
}

/* Third image (Contact) */
.bgimg-3 {
    background-image: url("http://socialisresearch.org/wp-content/uploads/2016/02/Uganda2015_8-92_reduced_2.jpg");
    min-height: 400px;
}

.w3-wide {letter-spacing: 10px;}
.w3-hover-opacity {cursor: pointer;}

#googleMap {
    width: 100%;
    height: 400px;
    -webkit-filter: grayscale(90%);
    filter: grayscale(90%);
}

/* Turn off parallax scrolling for tablets and mobiles */
@media only screen and (max-width: 1024px) {
    .bgimg-1, .bgimg-2, .bgimg-3 {
        background-attachment: scroll;
    }
}
</style>
<body>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <ul class="w3-navbar" id="myNavbar">
    <li><a href="#" class="w3-padding-large">HOME</a></li>
    <li class="w3-hide-small w3-right">
      <a href="#" class="w3-padding-large w3-hover-red"><i class="fa fa-search"></i></a>
    </li>
  </ul>
</div>

<!-- First Parallax Image with Logo Text -->
<div class="bgimg-1 w3-opacity w3-display-container">
  <div class="w3-display-middle" style="white-space:nowrap;">
    <span class="w3-center w3-padding-xlarge w3-black w3-xlarge w3-wide w3-animate-opacity">GRAPHIC <span class="w3-hide-small">CITE</span> </span>
  </div>
</div>

<!-- Container (About Section) -->
<div class="w3-content w3-container w3-padding-64" id="about">
  <h3 class="w3-center">ABOUT ME</h3>
  <p class="w3-center"><em>I love a good graph me</em></p>
  <p>After years of research and study and analysis, I was starting to feel like I knew how to science. 
  But it turns out that publishing, the essential scientific alternative to perishing, I do not know. 
  I thought I was ready to publish, but I hadn't even considered where. Turns out that depends on what you want; citations, public engagement, prestige &c. 
  As I started to look into this I found that everybody and there mums have their own advice. 
  Not just on where to publish, but should you even publish? Should I (or one) write in first person? Is a joke ever acceptable for a title?
  Is writing a blog a good use of my time?</p>
  <div class="w3-row">
    <div class="w3-col m6 w3-center w3-section">
      <p><b>My Name</b></p><br>
      <img src="https://unsplash.it/235/235?image=91" class="w3-circle" alt="Photo of Me">
    </div>
<script>
var w = 900,
    h = 500;

var nodes = [
{name:"	Molecular Ecology	", IF:	5.947	, relevance:	79	},
{name:"	Proceedings of the Royal Society B	", IF:	5.051	, relevance:	40	},
{name:"	Evolution	", IF:	4.612	, relevance:	29	},
{name:"	Evolution: international journal of organic evolution	", IF:	4.007	, relevance:	15	},
{name:"	Heredity	", IF:	3.801	, relevance:	15	},
{name:"	Journal of Evolutionary Biology	", IF:	3.483	, relevance:	15	},
{name:"	Behavioral Ecology	", IF:	3.083	, relevance:	14	},
{name:"	Journal of Heredity	", IF:	2.075	, relevance:	13	},
{name:"	Nature	", IF:	38.138	, relevance:	13	},
{name:"	Molecular Ecology Notes	", IF:	5.298	, relevance:	12	},
{name:"	Animal Behaviour	", IF:	3.068	, relevance:	10	},
{name:"	Molecular Ecology Resources	", IF:	5.298	, relevance:	10	},
{name:"	PLoS one	", IF:	3.234	, relevance:	10	},
{name:"	PNAS	", IF:	9.423	, relevance:	10	},
{name:"	Conservation Genetics	", IF:	2.04	, relevance:	9	},
{name:"	Genetics	", IF:	5.963	, relevance:	9	},
{name:"	Trends in Ecology & Evolution	", IF:	16.735	, relevance:	9	},
{name:"	Behavioral Ecology and Sociobiology	", IF:	2.565	, relevance:	7	},
{name:"	Biology letters	", IF:	2.823	, relevance:	6	},
{name:"	Journal of Zoology	", IF:	1.545	, relevance:	6	},
{name:"	The American Naturalist	", IF:	4.725	, relevance:	6	},
{name:"	Philosophical transactions of the Royal Society B	", IF:	7.055	, relevance:	5	},
{name:"	Scientific reports	", IF:	5.228	, relevance:	2	},
  ]
/*impact factors and number of relevant articles in journal*/
var IFs = [];
var refs = [];

for (var i = 0; i<nodes.length; i++){
  IFs[i] = nodes[i].IF
  refs[i] = nodes[i].relevance
}

var rScale = d3.scale.linear()
  .domain([d3.min(refs),d3.max(refs)])
  .range([10,100])

var colorScale = d3.scale.linear()
//  .domain([d3.min(IFs),(d3.max(IFs)-d3.min(IFs))/2+d3.min(IFs),d3.max(IFs)])
  .domain([d3.min(IFs),7,d3.max(IFs)])
// .range(['#2c5ff0','#9c27b0','#e91e63'])
 .range(['#ffe01f','#ec0626','#ff3399'])
;

/*links between nodes, nodes are specified by possition in the array which is zero indexed*/
var vis = d3.select("body")
    .append("svg:svg")
      .attr("class", "stage")
      .attr("width", w)
      .attr("height", h);

var force = d3.layout.force()
    .nodes(nodes)
    .links([])
    .gravity(0.15)
    .charge(function(d){
    return -30*(d.relevance)
    })
	.friction(0.5)
    .size([w, h]);

/*var links = [
  {source: nodes[0], target: nodes[2], width: 1,colour:"purple"},
  {source: nodes[1], target: nodes[3], width: 1,colour:"red"},
  {source: nodes[2], target: nodes[4], width: 2,colour:"blue"},
  {source: nodes[1], target: nodes[2], width: 3,colour:"purple"},
];
var link = vis.selectAll(".link")
  .data(links)
  .enter().append("line")
  .attr("class", "link")
  .attr("stroke", function(d){
    return (d.colour)
    })
    .attr("fill", "none")
    .attr("stroke-width", function(d){
      return 3*(d.width)
      });
*/ 
var links = [
];

var link = vis.selectAll(".link")
  .data(links)
  .enter().append("line")
  .attr("class", "link")
  .attr("stroke", function(d){
    return (d.colour)
    })
    .attr("fill", "none")
    .attr("stroke-width", function(d){
      return 3*(d.width)
      });

var node = vis.selectAll("circle.node")
  .data(nodes)
  .enter().append("g")
  .attr("class", "node")

  .on("mouseover", function(d) {
    d3.select(this).select("text")
    .transition()  
    .duration(300)
    .attr("opacity","1")
    })

  .on("mouseout", function(d,i) {
    d3.select(this).select("text")
  .transition()
  .duration(300)
  .attr("opacity","0")
  })

      .call(force.drag);


    //CIRCLE
    node.append("svg:circle")
      .attr("cx", function(d) { return d.x; })
      .attr("cy", function(d) { return d.y; })
      .attr("r", function(d){
      return rScale(d.relevance)
    })
      .attr("stroke", "white")
      .attr("stroke-width", 5)
      .attr("stroke-opacity",1)
      .attr("fill", function(d){
    return colorScale(d.IF)
    })
    
    //TEXT
    node.append("text")
      .text(function(d, i) { return d.name; })
      .attr("font-family",  "Sans-Serif")
      .attr("fill","black")
      .attr("opacity",0)
/*the i condition is the position in the node or link array. begining is left of the node, end is right*/


force.on("tick", function(e) {
  node.attr("transform", function(d, i) {     
        return "translate(" + d.x + "," + d.y + ")"; 
    });
    
   link.attr("x1", function(d)   { return d.source.x; })
       .attr("y1", function(d)   { return d.source.y; })
       .attr("x2", function(d)   { return d.target.x; })
       .attr("y2", function(d)   { return d.target.y; })
})

force.start();
</script>
    <!-- Hide this text on small devices -->
    <div class="w3-col m6 w3-hide-small w3-section">
      <p>I want to try and answer these questions because its interesting and also; if there are any shortcuts to success I am dammed well taking them.
      I am, you will be surprised to learn, a nerd. As such, I love a good graph me. I like how simply complex ideas and information 
      can be conveyed with eye gougeingly luminous pink. So here I will conduct small research projects on science. I will make those results into awesome and, where possible 
      interactive graphics. I will do this for my own sense of smug satisfaction and to find the easiest way to publish my research. All of this using 
      my free time for no money, because as I mentioned earlier; nerd.</p>
    </div>
  </div>
</div>

<!-- Second Parallax Image with Portfolio Text -->
<div class="bgimg-2 w3-display-container">
  <div class="w3-display-middle">
    <span class="w3-xxlarge w3-text-light-grey w3-wide">PORTFOLIO</span>
  </div>
</div>

<!-- Container (Portfolio Section) -->
<div class="w3-content w3-container w3-padding-64">
  <h3 class="w3-center">MY WORK</h3>
  <p class="w3-center"><em>Here are some of my latest lorem work ipsum tipsum.<br> Click on the images to make them bigger</em></p><br>

  <!-- Responsive Grid. Four columns on tablets, laptops and desktops. Will stack on mobile devices/small screens (100% width) -->
  <div class="w3-row-padding w3-center">
    <div class="w3-col m3">
      <img src="img_p1.jpg" style="width:100%" onclick="onClick(this)" class="w3-hover-opacity">
    </div>

    <div class="w3-col m3">
      <img src="img_p2.jpg" style="width:100%" onclick="onClick(this)" class="w3-hover-opacity">
    </div>

    <div class="w3-col m3">
      <img src="img_p3.jpg" style="width:100%" onclick="onClick(this)" class="w3-hover-opacity">
    </div>

    <div class="w3-col m3">
      <img src="img_p4.jpg" style="width:100%" onclick="onClick(this)" class="w3-hover-opacity">
    </div>
  </div>

  <div class="w3-row-padding w3-center w3-section">
    <div class="w3-col m3">
      <img src="img_p5.jpg" style="width:100%" onclick="onClick(this)" class="w3-hover-opacity">
    </div>

    <div class="w3-col m3">
      <img src="img_p6.jpg" style="width:100%" onclick="onClick(this)" class="w3-hover-opacity">
    </div>

    <div class="w3-col m3">
      <img src="img_p7.jpg" style="width:100%" onclick="onClick(this)" class="w3-hover-opacity">
    </div>

    <div class="w3-col m3">
      <img src="img_p8.jpg" style="width:100%" onclick="onClick(this)" class="w3-hover-opacity">
    </div>
  </div>
</div>

<!-- Modal for full size images on click-->
<div id="modal01" class="w3-modal w3-black" onclick="this.style.display='none'">
  <span class="w3-closebtn w3-hover-red w3-text-white w3-xxxlarge w3-container w3-display-topright">Ã—</span>
  <div class="w3-modal-content w3-animate-zoom w3-center w3-transparent w3-padding-64">
    <img id="img01" style="max-width:100%">
  </div>
</div>

<!-- Third Parallax Image with Portfolio Text -->
<div class="bgimg-3 w3-display-container">
  <div class="w3-display-middle">
     <span class="w3-xxlarge w3-text-light-grey w3-wide">CONTACT</span>
  </div>
</div>

<!-- Container (Contact Section) -->
<div class="w3-content w3-container w3-padding-64">
  <h3 class="w3-center">WHERE I WORK</h3>
  <p class="w3-center"><em>I'd love your feedback!</em></p>

  <div class="w3-row w3-padding-32 w3-section">
    <div class="w3-col m4 w3-container">
      <!-- Add Google Maps -->
      <div id="googleMap" class="w3-round-large"></div>
    </div>
    <div class="w3-col m8 w3-container w3-section">
      <div class="w3-large w3-margin-bottom">
        <i class="fa fa-map-marker w3-hover-text-black" style="width:30px"></i> Chicago, US<br>
        <i class="fa fa-phone w3-hover-text-black" style="width:30px"></i> Phone: +00 151515<br>
        <i class="fa fa-envelope w3-hover-text-black" style="width:30px"> </i> Email: mail@mail.com<br>
      </div>
      <p>Swing by for a cup of coffee, or leave me a note:</p>
      <div class="w3-row-padding" style="margin:0 -16px 8px -16px">
        <div class="w3-half">
          <input class="w3-input w3-border w3-hover-light-grey" type="text" placeholder="Name">
        </div>
        <div class="w3-half">
          <input class="w3-input w3-border w3-hover-light-grey" type="text" placeholder="Email">
        </div>
      </div>
      <input class="w3-input w3-border w3-hover-light-grey" type="text" placeholder="Comment">
      <button class="w3-btn w3-section w3-right">SEND</button>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="w3-center w3-dark-grey w3-padding-48 w3-hover-black">
  <p>Powered by <a href="http://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-opacity">w3.css</a></p>
</footer>
 
<!-- Add Google Maps -->
<script src="http://maps.googleapis.com/maps/api/js"></script>
<script>
var myCenter = new google.maps.LatLng(41.878114, -87.629798);

function initialize() {
var mapProp = {
  center: myCenter,
  zoom: 12,
  scrollwheel: false,
  draggable: false,
  mapTypeId: google.maps.MapTypeId.ROADMAP
  };

var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

var marker = new google.maps.Marker({
  position: myCenter,
});

marker.setMap(map);
}

google.maps.event.addDomListener(window, 'load', initialize);

// Modal Image Gallery
function onClick(element) {
  document.getElementById("img01").src = element.src;
  document.getElementById("modal01").style.display = "block";
}

// Change style of navbar on scroll
window.onscroll = function() {myFunction()};
function myFunction() {
    var navbar = document.getElementById("myNavbar");
    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        navbar.className = "w3-navbar" + " w3-card-2" + " w3-animate-top" + " w3-white";
    } else {
        navbar.className = navbar.className.replace(" w3-card-2 w3-animate-top w3-white", "");
    }
}
</script>

</body>
</html>

